<!DOCTYPE html>
<html lang="en">
    
<head>
    <title>Image Metadata Viewer</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
    
<style>
    .choose-file{
      margin: left;
      width: 430px;
      background: #fff;}

    h6{
      margin-bottom: 30px;
      color: gray;
      text-align: left;
      padding: 10px; }
        
    img {
      border-radius: 8px;  
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 100%;
      margin-top: 50px;
    }  
</style>   

<body id="body">
    <div class="jumbotron text-center">
      <h2>Image Metadata Viewer</h2>
    </div>
  
    <div class="container">

      <h5>Upload a local file (only JPEG) to read Exif data.</h5> 

      <div class="row">

        <div class="col-sm-5">
            <div class="choose-file">
              <div class="custom-file">
                <input type="file" class="custom-file-input" id="file-input" multiple="multiple" onchange="readURL(this);" accept="image/jpeg" aria-describedby="inputGroupFileAddon04" >
                <label class="custom-file-label" for="inputGroupFile04" id="FileAttachment">Choose file</label>
              </div>
            </div>
            <h6 id="make" ></h6> 
        </div>
          
        <div class="col-sm-6" id="photo"></div>      

      </div>      
    </div>
    <script type="text/javascript" src="exif.js"></script>
    <script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (event) {
                var img = document.createElement('img'); 
                img.src =  event.target.result; 
                document.getElementById('photo').appendChild(img); 
                document.getElementById('FileAttachment').innerHTML= input.files[0].name;
            /* używająć jQuery
            $('#blah')
            .attr('src', e.target.result); */
            }; 
            reader.readAsDataURL(input.files[0]);
            EXIF.getData(input.files[0], function() {
                var exifData = EXIF.pretty(this);
                if (exifData) {
                    document.getElementById("make").innerHTML= exifData;
                 } else {
                    alert("No EXIF data found in image '" + input.files[0].name + "'.");
                }
            });
        }
    }
    </script> 
</body>
</html>
